# Аудио-менеджер AM

## 1. Введение

`AM` (Audio Manager) — это основной класс-синглтон для воспроизведения звуков и музыки в проекте. Он предоставляет централизованное хранилище для всех аудиоклипов и управляет двумя `AudioSource`: один для звуковых эффектов (короткие, не-зацикленные звуки), другой — для фоновой музыки (длинные, зацикленные треки).

Используя простые методы, такие как `Play(id)`, можно легко воспроизводить звуки из любой точки кода, не заботясь об управлении `AudioSource`.

---

## 2. Описание класса

### AM
- **Пространство имен**: `Neo.Audio`
- **Путь к файлу**: `Assets/Neoxider/Scripts/Audio/AudioSimple/AM.cs`

**Описание**
Синглтон, управляющий воспроизведением звуковых эффектов и музыки.

**Ключевые особенности**
- **Централизованные плейлисты**: Хранит массивы `Sound` (клип + громкость по умолчанию) и `AudioClip` для музыки.
- **Разделение каналов**: Использует отдельные `AudioSource` для музыки и эффектов.
- **Простой API**: Воспроизведение звуков и музыки осуществляется вызовом метода с передачей `id` клипа в массиве.
- **Авто-создание**: Если `AudioSource` для музыки или эффектов не заданы, `AM` создаст их автоматически как дочерние объекты.
- **Стартовые громкости**: Поддерживает настройку стартовых громкостей (`startVolumeEfx`, `startVolumeMusic`) для эффектов и музыки.

**Публичные методы**
- `Play(int id, float volume)`: Воспроизводит звуковой эффект по `id` с указанной громкостью. Возвращает `void`.
- `Play(int id)`: Воспроизводит звуковой эффект по `id` с его громкостью по умолчанию. Возвращает `void`.
- `PlayMusic(int id, float volume)`: Включает музыкальный трек по `id` с указанной громкостью. Возвращает `void`.
- `PlayMusic(int id)`: Включает музыкальный трек по `id` с базовой громкостью (1.0). Возвращает `void`.
- `SetVolume(float volume, bool efx)`: Устанавливает громкость для `AudioSource` эффектов (`efx = true`) или музыки (`efx = false`). Возвращает `void`.
- `ApplyStartVolumes()`: Применяет стартовые громкости (`startVolumeEfx`, `startVolumeMusic`) к соответствующим `AudioSource`'ам. Возвращает `void`.
